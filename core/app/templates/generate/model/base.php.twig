<?php
namespace Starbug\Core;

use Starbug\Db\Schema\SchemerInterface;
{% if useLines is not empty %}{{ useLines|join("\n") }}{% endif %}

/**
 * {{ name }} model base
 * @ingroup models
 */
class {{ className }}Model extends Table {

  public $type = "{{ name }}";
  public $base = "{{ base }}";
  public $label = "{{ label }}";
  public $singular = "{{ singular }}";
  public $singular_label = "{{ singular|replace({"-":" ", "_":" "})|title }}";
  public $label_select = "{{ label_select ? label_select : name ~ ".id" }}";
  public $search_fields = "{{ search }}";


  function __construct(DatabaseInterface $db, ModelFactoryInterface $models, SchemerInterface $schemer{% for varname, typehint in factory %}, {{ typehint }} ${{ varname }}{% endfor %}) {
    parent::__construct($db, $models, $schemer);
{% for varname, typehint in factory %}
    $this->{{ varname }} = ${{ varname }};
{% endfor %}
  }

}
