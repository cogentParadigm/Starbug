:root {
  --focus-shadow-color: var(--dark-gray);
  --focus-shadow-outset: 0 0 0 3px var(--focus-shadow-color);
  --focus-shadow-inset: inset 0 0 0 3px var(--focus-shadow-color);
  --focus-bg: var(--moon-gray);
}

// Mixins
// -------------------------

@mixin focus-reset {
  outline: none;
}

@mixin focus-outset {
  box-shadow: var(--focus-shadow-outset);
}

@mixin focus-inset {
  box-shadow: var(--focus-shadow-inset);
}

// Normalization
// -------------------------

/**
 * Undo outline from sanitize.css
 */

 button:-moz-focusring,
 [type="button"]:-moz-focusring,
 [type="reset"]:-moz-focusring,
 [type="submit"]:-moz-focusring {
   @include focus-reset;
 }

/**
 * Apply default focus styles
 */

:focus {
  @include focus-reset;
  @include focus-outset;
}

th:focus, td:focus {
  @include focus-inset;
}

// Focus styles
// -------------------------

.outset-focus:focus {
  @include focus-outset;
}

.inset-focus:focus {
  @include focus-inset;
}

.bg-focus:focus {
  background: var(--focus-bg);
  box-shadow: none;
}

.bg-focus:hover {
  background: color-mod(var(--focus-bg) alpha(30%));
}

// Focus variants
// -------------------------

.z-1-focus:focus { z-index: 1; }
.z-2-focus:focus { z-index: 2; }

// Utilities
// -------------------------

// Use the wrapper as a delegated focus target for a nested element
.focus-wrapper:focus { box-shadow: none; }